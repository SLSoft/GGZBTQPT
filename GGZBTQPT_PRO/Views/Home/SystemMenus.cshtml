@model IEnumerable<GGZBTQPT_PRO.Models.T_ZC_Menu>

@helper GenerateChildMenu(GGZBTQPT_PRO.Models.T_ZC_Menu ParentMenu)
{ 
  foreach (var menu in Model)
  {
    if (menu.ParentID == ParentMenu.ID)
    { 
      <li>
        <a href="@menu.Url"  target="navTab" title="@menu.Name" rel="@menu.ID">@menu.Name</a>
        @if (Model.Where(m => m.ParentID == menu.ID).Count() > 0)
        {
          <ul>
            @GenerateChildMenu(menu)
          </ul>
        }
        else
        {
          @GenerateChildMenu(menu)
        }
      </li>
    }
  }
}
<div class="accordion" fillspace="sidebar">
  @foreach (var menu in Model)
  {
    if (menu.ParentID == 0)
    {
      <div class="accordionHeader">
        <h2>
          <span>Folder</span>@menu.Name</h2>
      </div>
      <div class="accordionContent">
        <ul class="tree treeFolder">
          @GenerateChildMenu(menu)
        </ul>
      </div> 
    }
  }
</div>
